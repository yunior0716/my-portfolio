---
// Importar solo los iconos que necesites
import SunIcon from './icons/Sun.astro';
import MoonIcon from './icons/Moon.astro';
---

<button
  id="theme-toggle"
  class="p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors"
  aria-label="Cambiar tema"
>
  <SunIcon class="size-5 dark:hidden" />
  <MoonIcon class="size-5 hidden dark:block" />
</button>

<script>
  const updateTheme = () => {
    const isDark =
      localStorage.getItem('theme') === 'dark' ||
      (!localStorage.getItem('theme') &&
        window.matchMedia('(prefers-color-scheme: dark)').matches);

    document.documentElement.classList[isDark ? 'add' : 'remove']('dark');
  };

  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.contains('dark');
    localStorage.setItem('theme', isDark ? 'light' : 'dark');
    updateTheme();
  });

  // Inicializar tema
  updateTheme();
</script>
